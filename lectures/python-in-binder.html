<section>
<h2>Python and Open Science Technologies</h2>
<h3 style="margin-top: 0.5em">
    Vaclav (Vashek) Petras</h3>
<p class="title-foot">
    <a href="http://geospatial.ncsu.edu/osgeorel/">NCSU GeoForAll Lab</a>
    at the
    <a href="http://geospatial.ncsu.edu/">Center for Geospatial Analytics</a>
    <br>
    <a href="http://www.ncsu.edu/">North Carolina State University</a>
</p>
<img style="width: 25%;" src="img/logos/ncstate.png">
<p>
    GIS 710: Geospatial Analytics for Grand Challenges<br>
    November 14, 2022
</p>
<p>
    <a href="../topics/open-science-for-grand-challenges.html" style="font-size: 150%;">https://bit.ly/2oR9owy</a>
</p>
</section>


<section>
    <h3>Learning Objectives</h3>
    <ul>
        <li>bits and pieces needed for re-running code
        <li>overview of concrete technologies for computational reproducibility
        <li>hands-on practice with some of these technologies (Python, Jupyter, Binder)
    </ul>
</section>


<section>
    <h3>Code: Python</h3>
    <ul>
        <li>readable syntax, close to ad-hoc pseudo-code
        <li>scripting, interpreted
        <li>general purpose
        <li>open source implementations
        <li>alternatives for data science:
            <ul>
                <li>R
                <li>Julia
                <li>Matlab (proprietary), GNU Octave (open source)</li>
            </ul>
    </ul>
    <br>
    <img class="stretch" src="img/logos/python_snakes.svg">
    <br>
    <small class="credit glow">
        Python logo
    </small>
</section>


<section>
    <h3>Interaction: Jupyter</h3>
    <ul class="left">
        <li>Julia, Python, R (and many others)
        <li>JupyterLab, Jupyter Notebooks, IPython
        <li>combination of text, images, computational results, code, ...
        <li>alternatives:
            <ul>
                <li>RStudio, R Markdown
                <li>other <em>notebooks</em> and <em>literate programing</em> tools
            </ul>
    </ul>
    <div class="right">
    <img src="img/jupyter_notebook.png">
    <br>
    <small class="credit glow">
        Jupyter Notebook with GRASS GIS
    </small>
    </div>
</section>


<section>
    <h3>Code Management: Git and GitHub</h3>
    <ul>
        <li>GitHub is something else than Git!
        <li>Git is a version-control system.
        <li>GitHub is a service providing Git repository hosting and related services.
        <li>Git is open source. GitHub is proprietary, freemium service.
        <li>Alternatives:
            <ul>
                <li>Mercurial, Bazaar, Fossil, Subversion, ...
                <li>GitLab, Bitbucket, ...
            </ul>
    </ul>
    <br>
    <img class="stretch" src="img/logos/octocat.png">
    <br>
    <small class="credit glow">
        GitHub Octocat logo
    </small>
</section>


<section>
    <h3>Running and Sharing: Binder</h3>
    <ul>
        <li>mybinder.org
        <li>Service turning (Git) repositories and (ZIP) archives into computational environments
        <li>Jupyter Notebooks, JupyterLab, RStudio, RShiny, Jupyter Appmode, presentation slides, ...
    </ul>
    <br>
    <img class="stretch" src="img/logos/binder.png">
    <br>
    <small class="credit glow">
        Binder logo
    </small>
</section>


<section>
    <h3>Binder Alternatives</h3>
    <ul>
        <li>Code Ocean <small>(Jupyter, RStudio, preservation)</small>
        <li>CoCalc <small>(Jupyter, ..., desktop applications)</small>
        <li>RStudio Cloud <small>(R focused)</small>
        <li>Google Colab <small>(Jupyter Notebooks, Google Cloud Platform)</small>
            <ul>
                <li>Good for collaboration, interaction with EE, but not for open science.
                <li>Requires sign in, notebook can access your Google Drive and credentials.
                <li>Setup of the environment is part of the notebook.
            </ul>
        <li>HydroShare <small>(by CUAHSI, funded by NSF)</small></li>
        <li>Pangeo <small>(funded by NSF, NASA, ...)</small></li>
        <li>...
    </ul>
</section>


<section>
    <h3>Why Binder?</h3>
    <ul>
        <li>Community and long term project
        <li>Python, R, ...
        <li>Similar concepts to RStudio Cloud, Code Ocean, ...
        <li>Open source <small>(building blocks of Binder: JupyterHub, BinderHub, repo2docker)</small>
            <ul>
                <li>More than one instance exists
            </ul>
        <li>Connects to Git, GitHub, GitLab, Zenodo, figshare, HydroShare, ...
        <li>No account needed to view, edit, and run
    </ul>
    <br>
    <img class="stretch" src="img/logos/binder.png">
    <br>
    <small class="credit glow">
        Binder logo
    </small>
</section>


<section>
    <h3>Computational Environment: Docker</h3>
    <ul>
        <li>virtualization tool to wrap software with all its dependencies into one package
        <li>image is the software or binary, container is what is running
        <li>enables to run many isolated computational environments
        <li>open source software and related freemium platform
        <li>alternatives:
            <ul>
                <li>virtual machines <small>(local or in the cloud)</small>
                <li>Vagrant <small>(configuration like Docker, but for virtual machines)</small>
                <li>Singularity <small>(similar to Docker, but for HPC clusters)</small>
                <li>...
            </ul>
    </ul>
    <br>
    <img class="stretch" src="img/logos/docker_moby_logo.png">
    <br>
    <small class="credit glow">
        Docker logo
    </small>
</section>


<section>
    <h3>Computational Environment: Specifications</h3>

<div class="left">
<p>
    <code>Dockerfile</code>: plain text specification of how the computational environment should look like in Docker
</p>
<pre style="width: 100%; font-size: 90%;">
FROM ubuntu:22.04
RUN apt-get update
RUN apt-get install -y \
        g++ \
        python \
        python-numpy
</pre>
</div>

<div class="right">
<p>
    <code>requirements.txt</code>: list of Python packages (and optionally their versions) consumed by package installer
</p>
<pre style="width: 100%; font-size: 90%;">
pyunpack
GDAL==3.0.1
</pre>

<p>
    More accepted by Binder: environment.yml, runtime.txt, apt.txt, DESCRIPTION, default.nix, postBuild, start, ...
</p>

</div>

</section>


<section>
    <h3>Summary</h3>
    <ul>
        <li>GitHub hosts Git repositories and allows editing the content.
        <li>Binder uses Docker to create the customized computational environments.
        <li>People use JupyterLab to run and edit scripts and Jupyter Notebooks.
    </ul>
    <br>
    <img class="stretch" src="img/jupyterlab.png">
    <br>
    <small class="credit glow">
        JupyterLab with GRASS GIS
    </small>
</section>

<section>
    <h3>Hands-on</h3>
    <a href="../topics/open-science-for-grand-challenges.html#exercise" style="font-size: 200%;">https://bit.ly/2oR9owy</a>
    <br>
    Section: Exercise
</section>
